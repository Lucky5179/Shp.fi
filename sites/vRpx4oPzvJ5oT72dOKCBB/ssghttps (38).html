import{jsx as _jsx}from"react/jsx-runtime";import{useState,useEffect}from"react";export function getAPY(Component,address){return props=>{const address=props["data-framer-name"];const[apy,setApy]=useState("0%");async function fetchData(){try{const response=await fetch("https://api.goat.fi/apy");const data=await response.json();const apy=(parseFloat(data[address])*100).toFixed(2)+"%";setApy(apy);}catch(error){console.log("Error fetching data:",error);return null;}}useEffect(()=>{async function data(){await fetchData();}data();},[apy]);return /*#__PURE__*/_jsx(Component,{...props,text:apy});};}export function getTVL(Component){return props=>{const address=JSON.parse(props["name"])["address"];const chain=JSON.parse(props["name"])["chain"];const[tvl,setTVL]=useState(0);async function fetchData(){try{const response=await fetch("https://api.goat.fi/tvl");const data=await response.json();const tvl=parseFloat(data[chain][address]);setTVL(tvl);}catch(error){console.log("Error fetching data:",error);return null;}}function formatNumber(amount){if(amount>=1e6){return`$${(amount/1e6).toFixed(2)}M`;}else if(amount>=1e3){return`$${(amount/1e3).toFixed(2)}K`;}else{return"<$1K";}}useEffect(()=>{async function data(){await fetchData();}data();},[tvl]);return /*#__PURE__*/_jsx(Component,{...props,text:formatNumber(tvl)});};}
export const __FramerMetadata__ = {"exports":{"getAPY":{"type":"reactHoc","name":"getAPY","annotations":{"framerContractVersion":"1"}},"getTVL":{"type":"reactHoc","name":"getTVL","annotations":{"framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}
//# sourceMappingURL=./APY.map